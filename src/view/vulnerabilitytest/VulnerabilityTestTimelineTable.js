import React, {Component} from 'react';
import PropTypes from 'prop-types';

import intl from "react-intl-universal";
import nextId from 'react-id-generator';
import VulnerabilityTestTimelineTableRow from './VulnerabilityTestTimelineTableRow';
import { renderVulnerabilityTestTimelineTableHeader } from '../../helpers/TableHelper';

export default class VulnerabilityTestTimelineTable extends Component {

    constructor(props, context) {
        super(props, context);
        this.tableId = `vulnerability_test_timeline_table_${nextId()}`;
    }

    render() {
        const {netEvents} = this.props;
        if (netEvents) {
            return (
                <table className="table table-borderless table-striped table-align-middle table-responsive-flip">
                    {renderVulnerabilityTestTimelineTableHeader()}
                    <tbody>
                        {netEvents.map((netEvent,idx) =>
                            <VulnerabilityTestTimelineTableRow 
                                key={`${this.tableId}_${idx}`} 
                                netEvent={netEvent}/>)}
                    </tbody>
                </table>
            );
        }
        return (
            <div>{intl.get('internet_no_data_period_timeline')}</div>
        )
    }
}

VulnerabilityTestTimelineTable.propTypes = {
    netEvents: PropTypes.array,
};

